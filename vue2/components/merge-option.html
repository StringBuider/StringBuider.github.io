<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åˆå¹¶é…ç½® | å°å¼ çš„å…±äº«æ–‡æ¡£</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="ğŸ¤”ä½ æœ‰ä»€ä¹ˆæƒ³è¯´ï¼Ÿå†™è¿›æ¥å§ï¼ğŸ˜">
    
    <link rel="preload" href="./assets/css/0.styles.a246c231.css" as="style"><link rel="preload" href="./assets/js/app.c50cae2e.js" as="script"><link rel="preload" href="./assets/js/4.08095b6d.js" as="script"><link rel="preload" href="./assets/js/40.5327dcb2.js" as="script"><link rel="prefetch" href="./assets/js/10.ed3e9f33.js"><link rel="prefetch" href="./assets/js/11.6495f8ce.js"><link rel="prefetch" href="./assets/js/12.e15e40c1.js"><link rel="prefetch" href="./assets/js/13.33a2b3c3.js"><link rel="prefetch" href="./assets/js/14.5d605ae8.js"><link rel="prefetch" href="./assets/js/15.b5e3a30f.js"><link rel="prefetch" href="./assets/js/16.32bee43d.js"><link rel="prefetch" href="./assets/js/17.67f7f069.js"><link rel="prefetch" href="./assets/js/18.af04d610.js"><link rel="prefetch" href="./assets/js/19.730c3139.js"><link rel="prefetch" href="./assets/js/2.7fc48c46.js"><link rel="prefetch" href="./assets/js/20.1c4fbbf9.js"><link rel="prefetch" href="./assets/js/21.67119724.js"><link rel="prefetch" href="./assets/js/22.c2076f14.js"><link rel="prefetch" href="./assets/js/23.f25b155f.js"><link rel="prefetch" href="./assets/js/24.c8791672.js"><link rel="prefetch" href="./assets/js/25.af22f7f1.js"><link rel="prefetch" href="./assets/js/26.777a42b7.js"><link rel="prefetch" href="./assets/js/27.25c6658f.js"><link rel="prefetch" href="./assets/js/28.4c66a1fb.js"><link rel="prefetch" href="./assets/js/29.45d218cd.js"><link rel="prefetch" href="./assets/js/3.fb9770df.js"><link rel="prefetch" href="./assets/js/30.2cfa5f3d.js"><link rel="prefetch" href="./assets/js/31.9a7819c6.js"><link rel="prefetch" href="./assets/js/32.6b80cecb.js"><link rel="prefetch" href="./assets/js/33.e00e1922.js"><link rel="prefetch" href="./assets/js/34.445fb4ff.js"><link rel="prefetch" href="./assets/js/35.2f86d553.js"><link rel="prefetch" href="./assets/js/36.7e8dc342.js"><link rel="prefetch" href="./assets/js/37.827964ca.js"><link rel="prefetch" href="./assets/js/38.306618b3.js"><link rel="prefetch" href="./assets/js/39.96d345b4.js"><link rel="prefetch" href="./assets/js/41.29160afa.js"><link rel="prefetch" href="./assets/js/42.3ec42885.js"><link rel="prefetch" href="./assets/js/43.db7bc261.js"><link rel="prefetch" href="./assets/js/44.60eae751.js"><link rel="prefetch" href="./assets/js/45.15437d11.js"><link rel="prefetch" href="./assets/js/46.55a5744d.js"><link rel="prefetch" href="./assets/js/47.e8e54de1.js"><link rel="prefetch" href="./assets/js/48.97e52f5e.js"><link rel="prefetch" href="./assets/js/49.c58d43a4.js"><link rel="prefetch" href="./assets/js/5.4c884eba.js"><link rel="prefetch" href="./assets/js/50.a93fcdb0.js"><link rel="prefetch" href="./assets/js/51.c43da0f8.js"><link rel="prefetch" href="./assets/js/52.e0cc02e1.js"><link rel="prefetch" href="./assets/js/53.95f0f53a.js"><link rel="prefetch" href="./assets/js/54.c4c47eaf.js"><link rel="prefetch" href="./assets/js/55.b37c9037.js"><link rel="prefetch" href="./assets/js/56.3d8ed2b4.js"><link rel="prefetch" href="./assets/js/57.bd65c07b.js"><link rel="prefetch" href="./assets/js/58.134b9e82.js"><link rel="prefetch" href="./assets/js/59.24c871f7.js"><link rel="prefetch" href="./assets/js/6.4e374fac.js"><link rel="prefetch" href="./assets/js/60.b75523ad.js"><link rel="prefetch" href="./assets/js/61.484be178.js"><link rel="prefetch" href="./assets/js/62.180c4d5d.js"><link rel="prefetch" href="./assets/js/63.c4c8b737.js"><link rel="prefetch" href="./assets/js/64.3921bee2.js"><link rel="prefetch" href="./assets/js/65.8c31bc75.js"><link rel="prefetch" href="./assets/js/66.a5410547.js"><link rel="prefetch" href="./assets/js/67.32e09623.js"><link rel="prefetch" href="./assets/js/68.4d59d330.js"><link rel="prefetch" href="./assets/js/69.fffc95ef.js"><link rel="prefetch" href="./assets/js/7.ef54b1c1.js"><link rel="prefetch" href="./assets/js/70.72980d01.js"><link rel="prefetch" href="./assets/js/71.fbafa4c6.js"><link rel="prefetch" href="./assets/js/72.59e84ead.js"><link rel="prefetch" href="./assets/js/73.62c6073a.js"><link rel="prefetch" href="./assets/js/74.098849aa.js"><link rel="prefetch" href="./assets/js/75.c4126dcd.js"><link rel="prefetch" href="./assets/js/76.288ce637.js"><link rel="prefetch" href="./assets/js/77.405cc8e4.js"><link rel="prefetch" href="./assets/js/78.f092ec42.js"><link rel="prefetch" href="./assets/js/79.5965beb6.js"><link rel="prefetch" href="./assets/js/8.1e8a08c7.js"><link rel="prefetch" href="./assets/js/80.b06d3623.js"><link rel="prefetch" href="./assets/js/81.7e1c12fd.js"><link rel="prefetch" href="./assets/js/82.23093c7e.js"><link rel="prefetch" href="./assets/js/9.07409efc.js">
    <link rel="stylesheet" href="./assets/css/0.styles.a246c231.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><!----> <span class="site-name">å°å¼ çš„å…±äº«æ–‡æ¡£</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŒ‡å—" class="dropdown-title"><span class="title">æŒ‡å—</span> <span class="arrow down"></span></button> <button type="button" aria-label="æŒ‡å—" class="mobile-dropdown-title"><span class="title">æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./guide/getting-started.html" class="nav-link">
  å‚ä¸å†™ä½œ
</a></li><li class="dropdown-item"><!----> <a href="/./guide/micro-frontends.html" class="nav-link">
  å¾®å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/./guide/micro-frontends-faq.html" class="nav-link">
  å¾®å‰ç«¯FAQ
</a></li><li class="dropdown-item"><!----> <a href="/./guide/git-flow.html" class="nav-link">
  å·¥ä½œæµ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è§„èŒƒ" class="dropdown-title"><span class="title">è§„èŒƒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="è§„èŒƒ" class="mobile-dropdown-title"><span class="title">è§„èŒƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./standard/micro-frontends-route.html" class="nav-link">
  å¾®å‰ç«¯-è·¯ç”±è§„èŒƒ
</a></li><li class="dropdown-item"><!----> <a href="/./standard/micro-frontends-version-control.html" class="nav-link">
  å¾®å‰ç«¯-ç‰ˆæœ¬ç®¡ç†
</a></li><li class="dropdown-item"><!----> <a href="/./standard/typescript.html" class="nav-link">
  TypeScriptè§„èŒƒ
</a></li><li class="dropdown-item"><!----> <a href="/./standard/code-version-control.html" class="nav-link">
  ä»£ç åˆ†æ”¯ç®¡ç†
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="tips" class="dropdown-title"><span class="title">tips</span> <span class="arrow down"></span></button> <button type="button" aria-label="tips" class="mobile-dropdown-title"><span class="title">tips</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./tips/url-mode.html" class="nav-link">
  urlæ¨¡å¼
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ’ä»¶" class="dropdown-title"><span class="title">æ’ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ’ä»¶" class="mobile-dropdown-title"><span class="title">æ’ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./plugins/plugin.html" class="nav-link">
  æ’ä»¶åˆ†äº«
</a></li></ul></div></div><div class="nav-item"><a href="/./vue2/prepare/" class="nav-link">
  vue2.x
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue3.x" class="dropdown-title"><span class="title">vue3.x</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue3.x" class="mobile-dropdown-title"><span class="title">vue3.x</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./vue3/essence-of-comp.html" class="nav-link">
  ç»„ä»¶çš„æœ¬è´¨
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/vnode.html" class="nav-link">
  æŠŠVNodeè§£å‰–ä¸€ä¸‹
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/h.html" class="nav-link">
  è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/observer.html" class="nav-link">
  å“åº”å¼åŸç†
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/renderer.html" class="nav-link">
  æ¸²æŸ“å™¨ä¹‹æŒ‚è½½
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/renderer-patch.html" class="nav-link">
  æ¸²æŸ“å™¨ä¹‹patch
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/renderer-diff.html" class="nav-link">
  æ¸²æŸ“å™¨çš„æ ¸å¿ƒ Diff ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/renderer-advanced.html" class="nav-link">
  è‡ªå®šä¹‰æ¸²æŸ“å™¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å…«è‚¡æ–‡" class="dropdown-title"><span class="title">å‰ç«¯å…«è‚¡æ–‡</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å…«è‚¡æ–‡" class="mobile-dropdown-title"><span class="title">å‰ç«¯å…«è‚¡æ–‡</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./basic/basic.html" class="nav-link">
  å…«è‚¡æ–‡
</a></li><li class="dropdown-item"><!----> <a href="/./basic/arithmetic.html" class="nav-link">
  ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/./basic/desinmode.html" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•ç»éªŒ" class="dropdown-title"><span class="title">é¢è¯•ç»éªŒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="é¢è¯•ç»éªŒ" class="mobile-dropdown-title"><span class="title">é¢è¯•ç»éªŒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./interview/interview.html" class="nav-link">
  é¢è¯•ç»éªŒ
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/./" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŒ‡å—" class="dropdown-title"><span class="title">æŒ‡å—</span> <span class="arrow down"></span></button> <button type="button" aria-label="æŒ‡å—" class="mobile-dropdown-title"><span class="title">æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./guide/getting-started.html" class="nav-link">
  å‚ä¸å†™ä½œ
</a></li><li class="dropdown-item"><!----> <a href="/./guide/micro-frontends.html" class="nav-link">
  å¾®å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/./guide/micro-frontends-faq.html" class="nav-link">
  å¾®å‰ç«¯FAQ
</a></li><li class="dropdown-item"><!----> <a href="/./guide/git-flow.html" class="nav-link">
  å·¥ä½œæµ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è§„èŒƒ" class="dropdown-title"><span class="title">è§„èŒƒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="è§„èŒƒ" class="mobile-dropdown-title"><span class="title">è§„èŒƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./standard/micro-frontends-route.html" class="nav-link">
  å¾®å‰ç«¯-è·¯ç”±è§„èŒƒ
</a></li><li class="dropdown-item"><!----> <a href="/./standard/micro-frontends-version-control.html" class="nav-link">
  å¾®å‰ç«¯-ç‰ˆæœ¬ç®¡ç†
</a></li><li class="dropdown-item"><!----> <a href="/./standard/typescript.html" class="nav-link">
  TypeScriptè§„èŒƒ
</a></li><li class="dropdown-item"><!----> <a href="/./standard/code-version-control.html" class="nav-link">
  ä»£ç åˆ†æ”¯ç®¡ç†
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="tips" class="dropdown-title"><span class="title">tips</span> <span class="arrow down"></span></button> <button type="button" aria-label="tips" class="mobile-dropdown-title"><span class="title">tips</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./tips/url-mode.html" class="nav-link">
  urlæ¨¡å¼
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ’ä»¶" class="dropdown-title"><span class="title">æ’ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ’ä»¶" class="mobile-dropdown-title"><span class="title">æ’ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./plugins/plugin.html" class="nav-link">
  æ’ä»¶åˆ†äº«
</a></li></ul></div></div><div class="nav-item"><a href="/./vue2/prepare/" class="nav-link">
  vue2.x
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue3.x" class="dropdown-title"><span class="title">vue3.x</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue3.x" class="mobile-dropdown-title"><span class="title">vue3.x</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./vue3/essence-of-comp.html" class="nav-link">
  ç»„ä»¶çš„æœ¬è´¨
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/vnode.html" class="nav-link">
  æŠŠVNodeè§£å‰–ä¸€ä¸‹
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/h.html" class="nav-link">
  è¾…åŠ©åˆ›å»º VNode çš„ h å‡½æ•°
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/observer.html" class="nav-link">
  å“åº”å¼åŸç†
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/renderer.html" class="nav-link">
  æ¸²æŸ“å™¨ä¹‹æŒ‚è½½
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/renderer-patch.html" class="nav-link">
  æ¸²æŸ“å™¨ä¹‹patch
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/renderer-diff.html" class="nav-link">
  æ¸²æŸ“å™¨çš„æ ¸å¿ƒ Diff ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/./vue3/renderer-advanced.html" class="nav-link">
  è‡ªå®šä¹‰æ¸²æŸ“å™¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å…«è‚¡æ–‡" class="dropdown-title"><span class="title">å‰ç«¯å…«è‚¡æ–‡</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å…«è‚¡æ–‡" class="mobile-dropdown-title"><span class="title">å‰ç«¯å…«è‚¡æ–‡</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./basic/basic.html" class="nav-link">
  å…«è‚¡æ–‡
</a></li><li class="dropdown-item"><!----> <a href="/./basic/arithmetic.html" class="nav-link">
  ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/./basic/desinmode.html" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•ç»éªŒ" class="dropdown-title"><span class="title">é¢è¯•ç»éªŒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="é¢è¯•ç»éªŒ" class="mobile-dropdown-title"><span class="title">é¢è¯•ç»éªŒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./interview/interview.html" class="nav-link">
  é¢è¯•ç»éªŒ
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å‡†å¤‡å·¥ä½œ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./vue2/prepare/" class="sidebar-link">Introduction</a></li><li><a href="/./vue2/prepare/flow.html" class="sidebar-link">è®¤è¯† Flow</a></li><li><a href="/./vue2/prepare/directory.html" class="sidebar-link">Vue.js æºç ç›®å½•è®¾è®¡</a></li><li><a href="/./vue2/prepare/build.html" class="sidebar-link">Vue.js æºç æ„å»º</a></li><li><a href="/./vue2/prepare/entrance.html" class="sidebar-link">ä»å…¥å£å¼€å§‹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ•°æ®é©±åŠ¨</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./vue2/data-driven/" class="sidebar-link">Introduction</a></li><li><a href="/./vue2/data-driven/new-vue.html" class="sidebar-link">new Vue å‘ç”Ÿäº†ä»€ä¹ˆ</a></li><li><a href="/./vue2/data-driven/mounted.html" class="sidebar-link">Vue å®ä¾‹æŒ‚è½½çš„å®ç°</a></li><li><a href="/./vue2/data-driven/render.html" class="sidebar-link">render</a></li><li><a href="/./vue2/data-driven/virtual-dom.html" class="sidebar-link">Virtual DOM</a></li><li><a href="/./vue2/data-driven/create-element.html" class="sidebar-link">createElement</a></li><li><a href="/./vue2/data-driven/update.html" class="sidebar-link">update</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ç»„ä»¶åŒ–</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./vue2/components/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/./vue2/components/create-component.html" class="sidebar-link">createComponent</a></li><li><a href="/./vue2/components/patch.html" class="sidebar-link">patch</a></li><li><a href="/./vue2/components/merge-option.html" aria-current="page" class="active sidebar-link">åˆå¹¶é…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./vue2/components/merge-option.html#å¤–éƒ¨è°ƒç”¨åœºæ™¯" class="sidebar-link">å¤–éƒ¨è°ƒç”¨åœºæ™¯</a></li><li class="sidebar-sub-header"><a href="/./vue2/components/merge-option.html#ç»„ä»¶åœºæ™¯" class="sidebar-link">ç»„ä»¶åœºæ™¯</a></li><li class="sidebar-sub-header"><a href="/./vue2/components/merge-option.html#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/./vue2/components/lifecycle.html" class="sidebar-link">ç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="/./vue2/components/component-register.html" class="sidebar-link">ç»„ä»¶æ³¨å†Œ</a></li><li><a href="/./vue2/components/async-component.html" class="sidebar-link">å¼‚æ­¥ç»„ä»¶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ·±å…¥å“åº”å¼åŸç†</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./vue2/reactive/" class="sidebar-link">Introduction</a></li><li><a href="/./vue2/reactive/reactive-object.html" class="sidebar-link">å“åº”å¼å¯¹è±¡</a></li><li><a href="/./vue2/reactive/getters.html" class="sidebar-link">ä¾èµ–æ”¶é›†</a></li><li><a href="/./vue2/reactive/setters.html" class="sidebar-link">æ´¾å‘æ›´æ–°</a></li><li><a href="/./vue2/reactive/next-tick.html" class="sidebar-link">nextTick</a></li><li><a href="/./vue2/reactive/questions.html" class="sidebar-link">æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹</a></li><li><a href="/./vue2/reactive/computed-watcher.html" class="sidebar-link">è®¡ç®—å±æ€§ VS ä¾¦å¬å±æ€§</a></li><li><a href="/./vue2/reactive/component-update.html" class="sidebar-link">ç»„ä»¶æ›´æ–°</a></li><li><a href="/./vue2/reactive/props.html" class="sidebar-link">Props (v2.6.11)</a></li><li><a href="/./vue2/reactive/summary.html" class="sidebar-link">åŸç†å›¾</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç¼–è¯‘</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./vue2/compile/" class="sidebar-link">Introduction</a></li><li><a href="/./vue2/compile/entrance.html" class="sidebar-link">ç¼–è¯‘å…¥å£</a></li><li><a href="/./vue2/compile/parse.html" class="sidebar-link">parse</a></li><li><a href="/./vue2/compile/optimize.html" class="sidebar-link">optimize</a></li><li><a href="/./vue2/compile/codegen.html" class="sidebar-link">codegen</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ‰©å±•</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./vue2/extend/" class="sidebar-link">Introduction</a></li><li><a href="/./vue2/extend/event.html" class="sidebar-link">event</a></li><li><a href="/./vue2/extend/v-model.html" class="sidebar-link">v-model</a></li><li><a href="/./vue2/extend/slot.html" class="sidebar-link">slot</a></li><li><a href="/./vue2/extend/keep-alive.html" class="sidebar-link">keep-alive</a></li><li><a href="/./vue2/extend/tansition.html" class="sidebar-link">transition</a></li><li><a href="/./vue2/extend/tansition-group.html" class="sidebar-link">transition-group</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue Router</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./vue2/vue-router/" class="sidebar-link">Introduction</a></li><li><a href="/./vue2/vue-router/install.html" class="sidebar-link">è·¯ç”±æ³¨å†Œ</a></li><li><a href="/./vue2/vue-router/router.html" class="sidebar-link">VueRouter å¯¹è±¡</a></li><li><a href="/./vue2/vue-router/matcher.html" class="sidebar-link">matcher</a></li><li><a href="/./vue2/vue-router/transition-to.html" class="sidebar-link">è·¯å¾„åˆ‡æ¢</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vuex</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./vue2/vuex/" class="sidebar-link">Introduction</a></li><li><a href="/./vue2/vuex/init.html" class="sidebar-link">Vuex åˆå§‹åŒ–</a></li><li><a href="/./vue2/vuex/api.html" class="sidebar-link">API</a></li><li><a href="/./vue2/vuex/plugin.html" class="sidebar-link">æ’ä»¶</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="åˆå¹¶é…ç½®"><a href="#åˆå¹¶é…ç½®" class="header-anchor">#</a> åˆå¹¶é…ç½®</h1> <p>é€šè¿‡ä¹‹å‰ç« èŠ‚çš„æºç åˆ†ææˆ‘ä»¬çŸ¥é“ï¼Œ<code>new Vue</code> çš„è¿‡ç¨‹é€šå¸¸æœ‰ 2 ç§åœºæ™¯ï¼Œä¸€ç§æ˜¯å¤–éƒ¨æˆ‘ä»¬çš„ä»£ç ä¸»åŠ¨è°ƒç”¨ <code>new Vue(options)</code> çš„æ–¹å¼å®ä¾‹åŒ–ä¸€ä¸ª Vue å¯¹è±¡ï¼›å¦ä¸€ç§æ˜¯æˆ‘ä»¬ä¸Šä¸€èŠ‚åˆ†æçš„ç»„ä»¶è¿‡ç¨‹ä¸­å†…éƒ¨é€šè¿‡ <code>new Vue(options)</code> å®ä¾‹åŒ–å­ç»„ä»¶ã€‚</p> <p>æ— è®ºå“ªç§åœºæ™¯ï¼Œéƒ½ä¼šæ‰§è¡Œå®ä¾‹çš„ <code>_init(options)</code> æ–¹æ³•ï¼Œå®ƒé¦–å…ˆä¼šæ‰§è¡Œä¸€ä¸ª <code>merge options</code> çš„é€»è¾‘ï¼Œç›¸å…³çš„ä»£ç åœ¨ <code>src/core/instance/init.js</code> ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">_init</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options<span class="token operator">?</span><span class="token operator">:</span> Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// merge options</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>options <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>_isComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// optimize internal component instantiation</span>
    <span class="token comment">// since dynamic options merging is pretty slow, and none of the</span>
    <span class="token comment">// internal component options needs special treatment.</span>
    <span class="token function">initInternalComponent</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    vm<span class="token punctuation">.</span>$options <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span>
      <span class="token function">resolveConstructorOptions</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">,</span>
      options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      vm
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ä¸åŒåœºæ™¯å¯¹äº <code>options</code> çš„åˆå¹¶é€»è¾‘æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¹¶ä¸”ä¼ å…¥çš„ <code>options</code> å€¼ä¹Ÿæœ‰éå¸¸å¤§çš„ä¸åŒï¼Œæ¥ä¸‹æ¥æˆ‘ä¼šåˆ†å¼€ä»‹ç» 2 ç§åœºæ™¯çš„ options åˆå¹¶è¿‡ç¨‹ã€‚</p> <p>ä¸ºäº†æ›´ç›´è§‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸¾ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">let</span> childComp <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;div&gt;{{msg}}&lt;/div&gt;'</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child created'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child mounted'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'Hello Vue'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parent created'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>childComp<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="å¤–éƒ¨è°ƒç”¨åœºæ™¯"><a href="#å¤–éƒ¨è°ƒç”¨åœºæ™¯" class="header-anchor">#</a> å¤–éƒ¨è°ƒç”¨åœºæ™¯</h2> <p>å½“æ‰§è¡Œ <code>new Vue</code> çš„æ—¶å€™ï¼Œåœ¨æ‰§è¡Œ <code>this._init(options)</code> çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œå¦‚ä¸‹é€»è¾‘å»åˆå¹¶ <code>options</code>ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>vm<span class="token punctuation">.</span>$options <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span>
  <span class="token function">resolveConstructorOptions</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">,</span>
  options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  vm
<span class="token punctuation">)</span>
</code></pre></div><p>è¿™é‡Œé€šè¿‡è°ƒç”¨ <code>mergeOptions</code> æ–¹æ³•æ¥åˆå¹¶ï¼Œå®ƒå®é™…ä¸Šå°±æ˜¯æŠŠ <code>resolveConstructorOptions(vm.constructor)</code> çš„è¿”å›å€¼å’Œ <code>options</code> åšåˆå¹¶ï¼Œ<code>resolveConstructorOptions</code> çš„å®ç°å…ˆä¸è€ƒè™‘ï¼Œåœ¨æˆ‘ä»¬è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œå®ƒè¿˜æ˜¯ç®€å•è¿”å› <code>vm.constructor.options</code>ï¼Œç›¸å½“äº <code>Vue.options</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Œå…¶å®åœ¨ <code>initGlobalAPI(Vue)</code> çš„æ—¶å€™å®šä¹‰äº†è¿™ä¸ªå€¼ï¼Œä»£ç åœ¨ <code>src/core/global-api/index.js</code> ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initGlobalAPI</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">Vue</span><span class="token operator">:</span> GlobalAPI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  Vue<span class="token punctuation">.</span>options <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token constant">ASSET_TYPES</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">type</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    Vue<span class="token punctuation">.</span>options<span class="token punctuation">[</span>type <span class="token operator">+</span> <span class="token string">'s'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// this is used to identify the &quot;base&quot; constructor to extend all plain-object</span>
  <span class="token comment">// components with in Weex's multi-instance scenarios.</span>
  Vue<span class="token punctuation">.</span>options<span class="token punctuation">.</span>_base <span class="token operator">=</span> Vue

  <span class="token function">extend</span><span class="token punctuation">(</span>Vue<span class="token punctuation">.</span>options<span class="token punctuation">.</span>components<span class="token punctuation">,</span> builtInComponents<span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>é¦–å…ˆé€šè¿‡ <code>Vue.options = Object.create(null)</code> åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œç„¶åéå† <code>ASSET_TYPES</code>ï¼Œ<code>ASSET_TYPES</code> çš„å®šä¹‰åœ¨ <code>src/shared/constants.js</code> ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ASSET_TYPES</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'component'</span><span class="token punctuation">,</span>
  <span class="token string">'directive'</span><span class="token punctuation">,</span>
  <span class="token string">'filter'</span>
<span class="token punctuation">]</span>
</code></pre></div><p>æ‰€ä»¥ä¸Šé¢éå† <code>ASSET_TYPES</code> åçš„ä»£ç ç›¸å½“äºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span>options<span class="token punctuation">.</span>components <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Vue<span class="token punctuation">.</span>options<span class="token punctuation">.</span>directives <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Vue<span class="token punctuation">.</span>options<span class="token punctuation">.</span>filters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>æ¥ç€æ‰§è¡Œäº† <code>Vue.options._base = Vue</code>ï¼Œå®ƒçš„ä½œç”¨åœ¨æˆ‘ä»¬ä¸ŠèŠ‚å®ä¾‹åŒ–å­ç»„ä»¶çš„æ—¶å€™ä»‹ç»äº†ã€‚</p> <p>æœ€åé€šè¿‡ <code>extend(Vue.options.components, builtInComponents)</code> æŠŠä¸€äº›å†…ç½®ç»„ä»¶æ‰©å±•åˆ° <code>Vue.options.components</code> ä¸Šï¼ŒVue çš„å†…ç½®ç»„ä»¶ç›®å‰æœ‰ <code>&lt;keep-alive&gt;</code>ã€<code>&lt;transition&gt;</code> å’Œ <code>&lt;transition-group&gt;</code> ç»„ä»¶ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨å…¶å®ƒç»„ä»¶ä¸­ä½¿ç”¨ <code>&lt;keep-alive&gt;</code> ç»„ä»¶ä¸éœ€è¦æ³¨å†Œçš„åŸå› ï¼Œè¿™å—å„¿åç»­æˆ‘ä»¬ä»‹ç» <code>&lt;keep-alive&gt;</code> ç»„ä»¶çš„æ—¶å€™ä¼šè¯¦ç»†è®²ã€‚</p> <p>é‚£ä¹ˆå›åˆ° <code>mergeOptions</code> è¿™ä¸ªå‡½æ•°ï¼Œå®ƒçš„å®šä¹‰åœ¨ <code>src/core/util/options.js</code> ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Merge two option objects into a new one.
 * Core utility used in both instantiation and inheritance.
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mergeOptions</span> <span class="token punctuation">(</span>
  <span class="token parameter"><span class="token literal-property property">parent</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
  <span class="token literal-property property">child</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
  vm<span class="token operator">?</span><span class="token operator">:</span> Component</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Object <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">checkComponents</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> child <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    child <span class="token operator">=</span> child<span class="token punctuation">.</span>options
  <span class="token punctuation">}</span>

  <span class="token function">normalizeProps</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> vm<span class="token punctuation">)</span>
  <span class="token function">normalizeInject</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> vm<span class="token punctuation">)</span>
  <span class="token function">normalizeDirectives</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
  <span class="token keyword">const</span> extendsFrom <span class="token operator">=</span> child<span class="token punctuation">.</span>extends
  <span class="token class-name">if</span> <span class="token punctuation">(</span>extendsFrom<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    parent <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> extendsFrom<span class="token punctuation">,</span> vm<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">.</span>mixins<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> child<span class="token punctuation">.</span>mixins<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parent <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> child<span class="token punctuation">.</span>mixins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> vm<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">let</span> key
  <span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">mergeField</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">mergeField</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">mergeField</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> strat <span class="token operator">=</span> strats<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">||</span> defaultStrat
    options<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strat</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> child<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> vm<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> options
<span class="token punctuation">}</span>
</code></pre></div><p><code>mergeOptions</code> ä¸»è¦åŠŸèƒ½å°±æ˜¯æŠŠ <code>parent</code> å’Œ <code>child</code> è¿™ä¸¤ä¸ªå¯¹è±¡æ ¹æ®ä¸€äº›åˆå¹¶ç­–ç•¥ï¼Œåˆå¹¶æˆä¸€ä¸ªæ–°å¯¹è±¡å¹¶è¿”å›ã€‚æ¯”è¾ƒæ ¸å¿ƒçš„å‡ æ­¥ï¼Œå…ˆé€’å½’æŠŠ <code>extends</code> å’Œ <code>mixins</code> åˆå¹¶åˆ° <code>parent</code> ä¸Šï¼Œç„¶åéå† <code>parent</code>ï¼Œè°ƒç”¨ <code>mergeField</code>ï¼Œç„¶åå†éå† <code>child</code>ï¼Œå¦‚æœ <code>key</code> ä¸åœ¨ <code>parent</code> çš„è‡ªèº«å±æ€§ä¸Šï¼Œåˆ™è°ƒç”¨ <code>mergeField</code>ã€‚</p> <p>è¿™é‡Œæœ‰æ„æ€çš„æ˜¯ <code>mergeField</code> å‡½æ•°ï¼Œå®ƒå¯¹ä¸åŒçš„ <code>key</code> æœ‰ç€ä¸åŒçš„åˆå¹¶ç­–ç•¥ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå®ƒçš„åˆå¹¶ç­–ç•¥æ˜¯è¿™æ ·çš„ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">mergeHook</span> <span class="token punctuation">(</span>
  <span class="token parameter"><span class="token literal-property property">parentVal</span><span class="token operator">:</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>Function<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">childVal</span><span class="token operator">:</span> <span class="token operator">?</span>Function <span class="token operator">|</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>Function<span class="token operator">&gt;</span></span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>Function<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> childVal
    <span class="token operator">?</span> parentVal
      <span class="token operator">?</span> parentVal<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>childVal<span class="token punctuation">)</span>
      <span class="token operator">:</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>childVal<span class="token punctuation">)</span>
        <span class="token operator">?</span> childVal
        <span class="token operator">:</span> <span class="token punctuation">[</span>childVal<span class="token punctuation">]</span>
    <span class="token operator">:</span> parentVal
<span class="token punctuation">}</span>

<span class="token constant">LIFECYCLE_HOOKS</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">hook</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  strats<span class="token punctuation">[</span>hook<span class="token punctuation">]</span> <span class="token operator">=</span> mergeHook
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™å…¶ä¸­çš„ <code>LIFECYCLE_HOOKS</code> çš„å®šä¹‰åœ¨ <code>src/shared/constants.js</code> ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">LIFECYCLE_HOOKS</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'beforeCreate'</span><span class="token punctuation">,</span>
  <span class="token string">'created'</span><span class="token punctuation">,</span>
  <span class="token string">'beforeMount'</span><span class="token punctuation">,</span>
  <span class="token string">'mounted'</span><span class="token punctuation">,</span>
  <span class="token string">'beforeUpdate'</span><span class="token punctuation">,</span>
  <span class="token string">'updated'</span><span class="token punctuation">,</span>
  <span class="token string">'beforeDestroy'</span><span class="token punctuation">,</span>
  <span class="token string">'destroyed'</span><span class="token punctuation">,</span>
  <span class="token string">'activated'</span><span class="token punctuation">,</span>
  <span class="token string">'deactivated'</span><span class="token punctuation">,</span>
  <span class="token string">'errorCaptured'</span>
<span class="token punctuation">]</span>
</code></pre></div><p>è¿™é‡Œå®šä¹‰äº† Vue.js æ‰€æœ‰çš„é’©å­å‡½æ•°åç§°ï¼Œæ‰€ä»¥å¯¹äºé’©å­å‡½æ•°ï¼Œä»–ä»¬çš„åˆå¹¶ç­–ç•¥éƒ½æ˜¯ <code>mergeHook</code> å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„å®ç°ä¹Ÿéå¸¸æœ‰æ„æ€ï¼Œç”¨äº†ä¸€ä¸ªå¤šå±‚ 3 å…ƒè¿ç®—ç¬¦ï¼Œé€»è¾‘å°±æ˜¯å¦‚æœä¸å­˜åœ¨ <code>childVal</code> ï¼Œå°±è¿”å› <code>parentVal</code>ï¼›å¦åˆ™å†åˆ¤æ–­æ˜¯å¦å­˜åœ¨ <code>parentVal</code>ï¼Œå¦‚æœå­˜åœ¨å°±æŠŠ <code>childVal</code> æ·»åŠ åˆ° <code>parentVal</code> åè¿”å›æ–°æ•°ç»„ï¼›å¦åˆ™è¿”å› <code>childVal</code> çš„æ•°ç»„ã€‚æ‰€ä»¥å›åˆ° <code>mergeOptions</code> å‡½æ•°ï¼Œä¸€æ—¦ <code>parent</code> å’Œ <code>child</code> éƒ½å®šä¹‰äº†ç›¸åŒçš„é’©å­å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒä»¬ä¼šæŠŠ 2 ä¸ªé’©å­å‡½æ•°åˆå¹¶æˆä¸€ä¸ªæ•°ç»„ã€‚</p> <p>å…³äºå…¶å®ƒå±æ€§çš„åˆå¹¶ç­–ç•¥çš„å®šä¹‰éƒ½å¯ä»¥åœ¨ <code>src/core/util/options.js</code> æ–‡ä»¶ä¸­çœ‹åˆ°ï¼Œè¿™é‡Œä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±çœ‹ã€‚</p> <p>é€šè¿‡æ‰§è¡Œ <code>mergeField</code> å‡½æ•°ï¼ŒæŠŠåˆå¹¶åçš„ç»“æœä¿å­˜åˆ° <code>options</code> å¯¹è±¡ä¸­ï¼Œæœ€ç»ˆè¿”å›å®ƒã€‚</p> <p>å› æ­¤ï¼Œåœ¨æˆ‘ä»¬å½“å‰è¿™ä¸ª case ä¸‹ï¼Œæ‰§è¡Œå®Œå¦‚ä¸‹åˆå¹¶åï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>vm<span class="token punctuation">.</span>$options <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span>
  <span class="token function">resolveConstructorOptions</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">,</span>
  options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  vm
<span class="token punctuation">)</span>
</code></pre></div><p><code>vm.$options</code> çš„å€¼å·®ä¸å¤šæ˜¯å¦‚ä¸‹è¿™æ ·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>vm<span class="token punctuation">.</span>$options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">created</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parent created'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">_base</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">Vue</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ç»„ä»¶åœºæ™¯"><a href="#ç»„ä»¶åœºæ™¯" class="header-anchor">#</a> ç»„ä»¶åœºæ™¯</h2> <p>ç”±äºç»„ä»¶çš„æ„é€ å‡½æ•°æ˜¯é€šè¿‡ <code>Vue.extend</code> ç»§æ‰¿è‡ª <code>Vue</code> çš„ï¼Œå…ˆå›é¡¾ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼Œä»£ç å®šä¹‰åœ¨ <code>src/core/global-api/extend.js</code> ä¸­ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Class inheritance
 */</span>
Vue<span class="token punctuation">.</span><span class="token function-variable function">extend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">extendOptions</span><span class="token operator">:</span> Object</span><span class="token punctuation">)</span><span class="token operator">:</span> Function <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  Sub<span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span>
    Super<span class="token punctuation">.</span>options<span class="token punctuation">,</span>
    extendOptions
  <span class="token punctuation">)</span>

  <span class="token comment">// ...</span>
  <span class="token comment">// keep a reference to the super options at extension time.</span>
  <span class="token comment">// later at instantiation we can check if Super's options have</span>
  <span class="token comment">// been updated.</span>
  Sub<span class="token punctuation">.</span>superOptions <span class="token operator">=</span> Super<span class="token punctuation">.</span>options
  Sub<span class="token punctuation">.</span>extendOptions <span class="token operator">=</span> extendOptions
  Sub<span class="token punctuation">.</span>sealedOptions <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Sub<span class="token punctuation">.</span>options<span class="token punctuation">)</span>

  <span class="token comment">// ...</span>
  <span class="token keyword">return</span> Sub
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬åªä¿ç•™å…³é”®é€»è¾‘ï¼Œè¿™é‡Œçš„ <code>extendOptions</code> å¯¹åº”çš„å°±æ˜¯å‰é¢å®šä¹‰çš„ç»„ä»¶å¯¹è±¡ï¼Œå®ƒä¼šå’Œ <code>Vue.options</code> åˆå¹¶åˆ° <code>Sub.opitons</code> ä¸­ã€‚</p> <p>æ¥ä¸‹æ¥æˆ‘ä»¬å†å›å¿†ä¸€ä¸‹å­ç»„ä»¶çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œä»£ç å®šä¹‰åœ¨ <code>src/core/vdom/create-component.js</code> ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createComponentInstanceForVnode</span> <span class="token punctuation">(</span>
  <span class="token literal-property property">vnode</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">// we know it's MountedComponentVNode but flow doesn't</span>
  <span class="token literal-property property">parent</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">// activeInstance in lifecycle state</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Component <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token literal-property property">options</span><span class="token operator">:</span> InternalComponentOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">_isComponent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">_parentVnode</span><span class="token operator">:</span> vnode<span class="token punctuation">,</span>
    parent
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">vnode<span class="token punctuation">.</span>componentOptions<span class="token punctuation">.</span>Ctor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™é‡Œçš„ <code>vnode.componentOptions.Ctor</code> å°±æ˜¯æŒ‡å‘ <code>Vue.extend</code> çš„è¿”å›å€¼ <code>Sub</code>ï¼Œ æ‰€ä»¥ æ‰§è¡Œ <code>new vnode.componentOptions.Ctor(options)</code> æ¥ç€æ‰§è¡Œ <code>this._init(options)</code>ï¼Œå› ä¸º <code>options._isComponent</code> ä¸º trueï¼Œé‚£ä¹ˆåˆå¹¶ <code>options</code> çš„è¿‡ç¨‹èµ°åˆ°äº† <code>initInternalComponent(vm, options)</code> é€»è¾‘ã€‚å…ˆæ¥çœ‹ä¸€ä¸‹å®ƒçš„ä»£ç å®ç°ï¼Œåœ¨ <code>src/core/instance/init.js</code> ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initInternalComponent</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">vm</span><span class="token operator">:</span> Component<span class="token punctuation">,</span> <span class="token literal-property property">options</span><span class="token operator">:</span> InternalComponentOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> opts <span class="token operator">=</span> vm<span class="token punctuation">.</span>$options <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>options<span class="token punctuation">)</span>
  <span class="token comment">// doing this because it's faster than dynamic enumeration.</span>
  <span class="token keyword">const</span> parentVnode <span class="token operator">=</span> options<span class="token punctuation">.</span>_parentVnode
  opts<span class="token punctuation">.</span>parent <span class="token operator">=</span> options<span class="token punctuation">.</span>parent
  opts<span class="token punctuation">.</span>_parentVnode <span class="token operator">=</span> parentVnode

  <span class="token keyword">const</span> vnodeComponentOptions <span class="token operator">=</span> parentVnode<span class="token punctuation">.</span>componentOptions
  opts<span class="token punctuation">.</span>propsData <span class="token operator">=</span> vnodeComponentOptions<span class="token punctuation">.</span>propsData
  opts<span class="token punctuation">.</span>_parentListeners <span class="token operator">=</span> vnodeComponentOptions<span class="token punctuation">.</span>listeners
  opts<span class="token punctuation">.</span>_renderChildren <span class="token operator">=</span> vnodeComponentOptions<span class="token punctuation">.</span>children
  opts<span class="token punctuation">.</span>_componentTag <span class="token operator">=</span> vnodeComponentOptions<span class="token punctuation">.</span>tag

  <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>render<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    opts<span class="token punctuation">.</span>render <span class="token operator">=</span> options<span class="token punctuation">.</span>render
    opts<span class="token punctuation">.</span>staticRenderFns <span class="token operator">=</span> options<span class="token punctuation">.</span>staticRenderFns
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>initInternalComponent</code> æ–¹æ³•é¦–å…ˆæ‰§è¡Œ <code>const opts = vm.$options = Object.create(vm.constructor.options)</code>ï¼Œè¿™é‡Œçš„ <code>vm.constructor</code> å°±æ˜¯å­ç»„ä»¶çš„æ„é€ å‡½æ•° <code>Sub</code>ï¼Œç›¸å½“äº <code>vm.$options = Object.create(Sub.options)</code>ã€‚</p> <p>æ¥ç€åˆæŠŠå®ä¾‹åŒ–å­ç»„ä»¶ä¼ å…¥çš„å­ç»„ä»¶çˆ¶ VNode å®ä¾‹ <code>parentVnode</code>ã€å­ç»„ä»¶çš„çˆ¶ Vue å®ä¾‹ <code>parent</code> ä¿å­˜åˆ° <code>vm.$options</code> ä¸­ï¼Œå¦å¤–è¿˜ä¿ç•™äº† <code>parentVnode</code> é…ç½®ä¸­çš„å¦‚ <code>propsData</code> ç­‰å…¶å®ƒçš„å±æ€§ã€‚</p> <p>è¿™ä¹ˆçœ‹æ¥ï¼Œ<code>initInternalComponent</code> åªæ˜¯åšäº†ç®€å•ä¸€å±‚å¯¹è±¡èµ‹å€¼ï¼Œå¹¶ä¸æ¶‰åŠåˆ°é€’å½’ã€åˆå¹¶ç­–ç•¥ç­‰å¤æ‚é€»è¾‘ã€‚</p> <p>å› æ­¤ï¼Œåœ¨æˆ‘ä»¬å½“å‰è¿™ä¸ª case ä¸‹ï¼Œæ‰§è¡Œå®Œå¦‚ä¸‹åˆå¹¶åï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">initInternalComponent</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
</code></pre></div><p><code>vm.$options</code> çš„å€¼å·®ä¸å¤šæ˜¯å¦‚ä¸‹è¿™æ ·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>vm<span class="token punctuation">.</span>$options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">parent</span><span class="token operator">:</span> Vue <span class="token comment">/*çˆ¶Vueå®ä¾‹*/</span><span class="token punctuation">,</span>
  <span class="token literal-property property">propsData</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token literal-property property">_componentTag</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token literal-property property">_parentVnode</span><span class="token operator">:</span> VNode <span class="token comment">/*çˆ¶VNodeå®ä¾‹*/</span><span class="token punctuation">,</span>
  <span class="token literal-property property">_renderChildren</span><span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">_base</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">Vue</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">_Ctor</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">created</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">function</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parent created'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child created'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">mounted</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">function</span> <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child mounted'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token punctuation">{</span>
         <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'Hello Vue'</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;div&gt;{{msg}}&lt;/div&gt;'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h2> <p>é‚£ä¹ˆè‡³æ­¤ï¼ŒVue åˆå§‹åŒ–é˜¶æ®µå¯¹äº <code>options</code> çš„åˆå¹¶è¿‡ç¨‹å°±ä»‹ç»å®Œäº†ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å¯¹äº <code>options</code> çš„åˆå¹¶æœ‰ 2 ç§æ–¹å¼ï¼Œå­ç»„ä»¶åˆå§‹åŒ–è¿‡ç¨‹é€šè¿‡ <code>initInternalComponent</code> æ–¹å¼è¦æ¯”å¤–éƒ¨åˆå§‹åŒ– Vue é€šè¿‡ <code>mergeOptions</code> çš„è¿‡ç¨‹è¦å¿«ï¼Œåˆå¹¶å®Œçš„ç»“æœä¿ç•™åœ¨ <code>vm.$options</code> ä¸­ã€‚</p> <p>çºµè§‚ä¸€äº›åº“ã€æ¡†æ¶çš„è®¾è®¡å‡ ä¹éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œè‡ªèº«å®šä¹‰äº†ä¸€äº›é»˜è®¤é…ç½®ï¼ŒåŒæ—¶åˆå¯ä»¥åœ¨åˆå§‹åŒ–é˜¶æ®µä¼ å…¥ä¸€äº›å®šä¹‰é…ç½®ï¼Œç„¶åå» merge é»˜è®¤é…ç½®ï¼Œæ¥è¾¾åˆ°å®šåˆ¶åŒ–ä¸åŒéœ€æ±‚çš„ç›®çš„ã€‚åªä¸è¿‡åœ¨ Vue çš„åœºæ™¯ä¸‹ï¼Œä¼šå¯¹ merge çš„è¿‡ç¨‹åšä¸€äº›ç²¾ç»†åŒ–æ§åˆ¶ï¼Œè™½ç„¶æˆ‘ä»¬åœ¨å¼€å‘è‡ªå·±çš„ JSSDK çš„æ—¶å€™å¹¶æ²¡æœ‰ Vue è¿™ä¹ˆå¤æ‚ï¼Œä½†è¿™ä¸ªè®¾è®¡æ€æƒ³æ˜¯å€¼å¾—æˆ‘ä»¬å€Ÿé‰´çš„ã€‚</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/./vue2/components/patch.html" class="prev">
        patch
      </a></span> <span class="next"><a href="/./vue2/components/lifecycle.html">
        ç”Ÿå‘½å‘¨æœŸ
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="./assets/js/app.c50cae2e.js" defer></script><script src="./assets/js/4.08095b6d.js" defer></script><script src="./assets/js/40.5327dcb2.js" defer></script>
  </body>
</html>
